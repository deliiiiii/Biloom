#### ~~v0.0.22~~

##### ~~更新：~~

​    ~~进度条拖动；~~
~~​    点击按钮在制谱器中生成note；~~
~~​    note位置随进度条、流速变化（不随网格线偏移、玩家自定义偏移变化）制谱器中能点动note；~~
~~​    更大方的判定特效（反正后面还得改.jpg）~~

##### ~~修复：~~

​    ~~制谱器内note和网格线速度不一致的bug（现在5速就会很快了）；~~
~~​    进度条拖到底大概率爆越界的bug~~

##### ~~remaining bugs：~~

​    ~~超慢速下（如0.1速）note重叠时看上去是一大块区分不了；~~
~~​    刚生成的note最下方并不是判定线的位置；~~
~~​    miss掉的note没被销毁时它上面的note不可能点动（点击逻辑可能要改，应该单独做个试玩模式，编辑模式下实际上不应该能点note）；~~
~~​    暂停时能点note（假如在判定区间内）~~

~~吸附网格没做，今天摆了~~

#### ~~v0.0.23（PC端制谱器）~~

##### ~~更新：~~

​	~~note属性(Configuration)面板 按回车才能提交：~~

​	 ~~X：左右位置，建议[-5,5]（左-右）~~

​	 ~~Z：0ms判定时间，范围[0,音乐秒数]（近-远）~~

​	~~deltaZ：就是 相对的Z ，按回车后 Z值会加上deltaZ~~

​	~~deltaZ右边的锁（是一个勾选框）：勾选时按回车后deltaZ输入框的数字不消失~~

​	~~制谱器操作说明：~~

​		~~按上面四个按钮：在判定线上产生tap~~	

​		~~鼠标左键：选中单个note~~

​		~~按住左Ctrl + 鼠标左键：多选note~~

​		~~X：取消所有选中~~

​		~~D：删除所有选中~~

​		~~R：读取谱面（路径：解压后的路径/Biloomer v0.0.23_Data/StreamingAssets）~~

​		~~W：保存谱面~~

​		~~小键盘↑：已选中的note向远处移动（吸附）到最近的网格线~~

​		~~小键盘↓：已选中的note向近处移动（吸附）到最近的网格线~~

#### ~~v0.0.24（PC端制谱器）~~

##### ~~更新：~~

​	~~小键盘←：已选中的note向左移动1单位（X值减1）~~

​	~~小键盘→：已选中的note向右移动1单位（X值加1）~~

​	~~多押提示（即自动高亮Z值相同的所有note，真·全自动，手动diss某L开头的制谱器）~~

​	~~按上面的四个按钮生成的那个note会被默认选中（其他note会取消选中）~~

##### ~~修复：~~

​	~~读写文件不正常的bug~~

#### ~~v0.0.25（PC端制谱器）~~

##### ~~修复：~~

​	~~选中多个note移动时多押显示不正确的bug~~

​	~~读取文件后多押不显示的bug~~

#### ~~v0.0.26（PC端制谱器）~~

##### ~~修复：~~

​	~~读取文件后note多押数不正确导致 多押显示混乱的bug~~

​	~~移动note中途还能再移动的bug（因为是一个一个note分别移动再判定多押，间隔0.02s）~~

#### ~~v0.0.27（PC端制谱器）~~

##### ~~更新：~~

​	~~属性面板增加选中单个note的多押数~~

​	~~11s·真谱面~~

##### ~~修复：~~

​	~~生成单个note后属性面板不亮~~

#### ~~v0.0.28（PC端制谱器）~~

~~![image-20240215202540151](C:\Users\Deli\AppData\Roaming\Typora\typora-user-images\image-20240215202540151.png)~~

~~![image-20240215211141270](C:\Users\Deli\AppData\Roaming\Typora\typora-user-images\image-20240215211141270.png)~~

##### ~~更新：~~

​	~~单点（stab）note黑白贴图、多押提示、背景、判定线等~~

​	~~整理Sorting Layer，详见最后~~

​	~~note属性添加黑/白切换。详见最后~~

​	~~note属性记录所吸附网格线的beat和offset~~

​	~~note前后左右移动手感优化，详见最后~~

​	~~进度条左右调整手感优化，详见最后~~

##### ~~修复:~~

​	~~note重叠时区分不了（给美术跪orz），现在冇问题~~

​	~~note浮点位数太多，多押显示又双叒叕不正确的bug~~

​	~~刚生成的note最下方并不是判定线的位置（可以随时改判定线的位置就是了）的bug~~

​	~~exe制谱器产生的文件无法被unity编辑器读入的bug~~

​	~~正在移动note时快速点击其他note卡死的bug~~

#### ~~v0.0.29（并没有打包）2024.2.16~~

##### ~~更新：~~

​	~~切换歌曲UI~~

​	~~歌曲详情面板（可折叠）~~

#### v0.030（并没有打包）2024.2.17

##### 更新：

​	选歌时点击歌曲标题可以自动跳转对齐，添加进/出制谱器的按钮

##### 修复：

​	歌曲开播后十分炸裂右耳（指音量太大和只有右声道）的bug

#### v0.031（PC端制谱器+Android端试玩）2024.2.18

##### 更新：

现可将制谱器的谱面文件导出并试玩。步骤：

​	①解压Biloomer vx.x.xx.zip，电脑用制谱器将谱面写入电脑文件路径：Biloomer vx.x.xx/Biloomer vx.x.xx_Data/StreamingAssets/Sheet/[id] - [title] - [composer].json

​	②安装Biloom vx.x.xx.apk，手机读取谱面文件的路径：[storage/emulated/0/]  Android/data/com.UniqueGame.Biloom/files/Sheet/[id] - [title] - [composer].json

​	③用电脑里的那个json文件覆盖手机里的json

PS：手机第一次安装时会自动生成json文件，但是里面内容是一个note也没有的状态。虽然手机上也可以用制谱器，但是缺很多功能.感觉不如用电脑上设置的快捷键

PPS：想删除所有note，最简单的方法是关闭游戏，删除json文件，重进游戏会自动生成json

**<u>PPPS：做完谱了一定要点Wake Up，返回选歌才会保存</u>**

PPPPS：添加新歌需要重新发个新版本

##### 优化：

​	进出制谱器自动读写文件，删除了读写按钮

#### v0.0.32（Android端） 2024.2.19

*用模拟器食用效果最佳*

##### 更新：

​	标题界面和选歌界面的切换

​	更换判定特效：

​		黄色：Benign，判定区间[-100, 100] ms

​		蓝色：Bare，判定区间[-300, -100) ∪ (100,300] ms，音游叠帧，鉴定为假

​	选歌时播放预览片段（约23s）及淡入淡出（各1.5s）效果

​	Rehearse（试玩）时的黑白切换：按下R后，各UI会变为反色。默认为白背景、黑note、黑进度条（左侧已播放的部分）、白进度条（右侧没播放的部分）、黑判定线、黑UI

​	Rehearse时标题、曲绘、进度条、连击数、暂停按钮

​	暂停面板的返回选歌、继续、重开按钮

#### v0.0.33（Android端） 2024.2.19

##### 修复：

​	快速点一个note会加多个连击数的bug

​	多押极大概率点不动的bug

#### v0.0.34（没打包） 2024.2.20

##### 更新：

​	英文、数字字体：Jersey10-Regular

​	新增whiteRate值 [0,1]（黑-白）

​	暂停/继续的淡入淡出

​	结算界面的部分判断逻辑（UI没做）

##### 修复：

​	后面note的多押会挡住前面note，把多押的order in layer 改回0了

##### 删除：

​	快捷键R

#### v0.0.35（没打包） 2024.2.20

##### 更新：

​	更新结算界面，Rehearse界面更新Skip Night按钮和whiteRate滑动条

##### 修改：

​	部分UI

#### v0.0.36（Android端） 2024.2.21

##### 更新：

​	结算界面计算ACC的UI

##### 修改：

​	部分UI

#### v0.0.37（Android端） 2024.2.22

##### 修改：

​	note碰撞体大小，手感更好

##### 修复：

​	点击标题切换歌曲（自动跳转）再迅速滑动歌单时不能正常吸附标题（原因是自动跳转时滚动条会判断是否结束，手指在这个时候滑动，跳转会永不停歇）的bug

​	标题没完全对齐时离开选歌界面（返回标题或者进入制谱器）重进会卡在没对齐的地方不动的bug



——————————————

##### remaining bugs：

​	没有

##### 咕咕：

​	！！自动保存

​	！滑键Slash

​	更改note大小、单独的流速，实现类似变速谱的效果

​	多个note复制粘贴

### Sorting Layer

| Default            | Particle                 | UI                     |
| ------------------ | ------------------------ | ---------------------- |
| 0 背景图片，判定线 | 0 note本体，多押提示     | 0 进度条，文字，按钮等 |
| -                  | -                        | -                      |
| -                  | 3 选中note的那个提示箭头 | -                      |
| -                  | 5 判定特效 黄与蓝        | -                      |

##### **<u>Weave-进度条</u>**

| 名称        | 解释                                                         |
| ----------- | ------------------------------------------------------------ |
| \| \| or >  | 暂停or播放                                                   |
| beat        | 每多少拍显示一条线，例如，填入1/4后，对于BPM是150的歌，每秒钟有150/60=2.5拍，会有2.5 / (1/4)  = 10根红线流过 |
| line offset | 网格线偏移（单位ms 值越大 网格线离判定线越远），影响的是Z轴吸附，note位置不会变 |
| pitch       | 音乐倍速                                                     |
| note speed  | 音符下落速度，其密度（=个数/时间）不变                       |

***PS 输入框的数字改了按回车才有效，ΔX、ΔZ除外**

##### Weave-<u>MelodyInfo面板</u>

| 名称      | 解释                                               |
| --------- | -------------------------------------------------- |
| Id        | 歌曲唯一认证序号                                   |
| BPM       | 每分钟节拍数                                       |
| Title     | 歌曲标题                                           |
| Composer  | 作曲                                               |
| Intensity | 还没有确定数字所以没显示                           |
| Wake Up   | 退出制谱器返回选歌，需要确认                       |
| Rehearse  | 从当前时间（speed，pitch均适用）进入试玩，不用确认 |

##### <u>Weave-Configuration面板</u>

| 名称         | 解释                                                         |
| ------------ | ------------------------------------------------------------ |
| Type         | 音符种类，Stab单点，Slash滑动（没做），其余待定              |
| Type右边的框 | 黑/白切换，不选中任何note时无法切换，仅选中1个时显示这个note的颜色，选中多个时显示“？”，这时仍能点击并批量修改 |
| X            | 音符左右位置，限制为[-7,7]（左-右）                          |
| Z            | 音符的准确判定时间，范围[0,音乐秒数]（近-远）                |
| ΔX           | 每次左右移动的偏移量，详见←/→键的作用                        |
| ΔZ           | 每次前后移动的偏移量，详见↑/↓键的作用                        |

| 键位                  | 作用                                                        |
| --------------------- | ----------------------------------------------------------- |
| Space(空格)           | 暂停/播放                                                   |
| 鼠标左键              | 选中1个note，先前选中的会取消。疯狂点同一个也不会取消这一个 |
| 按住左Ctrl + 鼠标左键 | 多选note，类似于windows的多选文件。第二次点击取消选中       |
| X                     | 不知道哪个单词，C被复制占了:(   取消所有选中note            |
| S                     | Stab，在当前时间的判定线正中间生成一个单点note              |
| D                     | Delete，删除所有选中note                                    |
| ~~R~~                 | ~~Reverse，切换黑/白色UI~~                                  |
| ~~R~~                 | ~~Read，读取谱面文件~~                                      |
| ~~W~~                 | ~~Write，写入谱面文件~~                                     |
| ←/→                   | 已选中note向左/右移动ΔX                                     |
| ↑/↓                   | 已选中note向远/近处移动ΔZ，若未输入ΔZ则吸附网格线           |
| ,(书名号<)            | 进度条向左移动 若干 秒                                      |
| .(书名号>)            | 进度条向右移动 若干 秒                                      |
| 右Alt + ,             | 进度条向左移动 (若干*倍数) 秒                               |
| 右Alt + .             | 进度条向右移动 (若干*倍数) 秒                               |

##### <u>Rehearse(试玩)</u>

| 名称          | 解释                                                         |
| ------------- | ------------------------------------------------------------ |
| 左上角滑动条  | 代表whiteRate的值，范围[0,1]（左-右）                        |
| whiteRate     | 值 [0,1]（黑-白），会影响：UI文字、进度条、背景、note。例如，whiteRate = 0.1，UI文字、进度条很黑但有点白，背景很白但有点黑，黑note为实心，白note为半透明。**直接影响结算界面的黑/白数据哪一个能看清（更突出）** |
| Back To Weave | 返回到Weave（制谱器）                                        |
| Skip Night    | 直接跳转到歌曲结束。结束后有3s延迟才显示结算界面             |
| 右上角的\|\|  | 点击弹出暂停面板：选歌、继续、重开。淡入0.3s，淡出3s         |

