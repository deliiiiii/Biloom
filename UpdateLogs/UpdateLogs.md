制谱器の操作

左上角暂停or播放
beat 每多少拍显示一条线
line offset（单位ms 值越大 网格线离判定线越远）
pitch 音乐倍速
note speed 谱面流速

PS 暂停后才能拖得动进度条
PPS 白色数字改了按回车才有效

#### v0.0.22

##### 更新：

​    进度条拖动；
​    点击按钮在制谱器中生成note；
​    note位置随进度条、流速变化（不随网格线偏移、玩家自定义偏移变化）制谱器中能点动note；
​    更大方的判定特效（反正后面还得改.jpg）

##### 修复：

​    制谱器内note和网格线速度不一致的bug（现在5速就会很快了）；
​    进度条拖到底大概率爆越界的bug

##### remaining bugs：

​    超慢速下（如0.1速）note重叠时看上去是一大块区分不了；
​    刚生成的note最下方并不是判定线的位置；
​    miss掉的note没被销毁时它上面的note不可能点动（点击逻辑可能要改，应该单独做个试玩模式，编辑模式下实际上不应该能点note）；
​    暂停时能点note（假如在判定区间内）

吸附网格没做，今天摆了

#### v0.0.23（PC端制谱器）

##### 更新：

​	note属性(Configuration)面板 按回车才能提交：

​	 X：左右位置，建议[-5,5]（左-右）

​	 Z：0ms判定时间，范围[0,音乐秒数]（近-远）

​	deltaZ：就是 相对的Z ，按回车后 Z值会加上deltaZ

​	deltaZ右边的锁（是一个勾选框）：勾选时按回车后deltaZ输入框的数字不消失

​	制谱器操作说明：

​		按上面四个按钮：在判定线上产生tap	

​		鼠标左键：选中单个note

​		按住左Ctrl + 鼠标左键：多选note

​		X：取消所有选中

​		D：删除所有选中

​		R：读取谱面（路径：解压后的路径/Biloomer v0.0.23_Data/StreamingAssets）

​		W：保存谱面

​		小键盘↑：已选中的note向远处移动（吸附）到最近的网格线

​		小键盘↓：已选中的note向近处移动（吸附）到最近的网格线

#### v0.0.24（PC端制谱器）

##### 更新：

​	小键盘←：已选中的note向左移动1单位（X值减1）

​	小键盘→：已选中的note向右移动1单位（X值加1）

​	多押提示（即自动高亮Z值相同的所有note，真·全自动，手动diss某L开头的制谱器）

​	按上面的四个按钮生成的那个note会被默认选中（其他note会取消选中）

##### 修复：

​	读写文件不正常的bug

#### v0.0.25（PC端制谱器）

##### 修复：

​	选中多个note移动时多押显示不正确的bug

​	读取文件后多押不显示的bug

#### v0.0.26（PC端制谱器）

##### 修复：

​	读取文件后note多押数不正确导致 多押显示混乱的bug

​	移动note中途还能再移动的bug（因为是一个一个note分别移动再判定多押，间隔0.02s）

#### v0.0.27（PC端制谱器）

##### 更新：

​	属性面板增加选中单个note的多押数

​	11s·真谱面

##### 修复：

​	生成单个note后属性面板不亮

#### v0.0.28（PC端制谱器）

![image-20240215202540151](C:\Users\Deli\AppData\Roaming\Typora\typora-user-images\image-20240215202540151.png)

![image-20240215211141270](C:\Users\Deli\AppData\Roaming\Typora\typora-user-images\image-20240215211141270.png)

##### 更新：

​	单点（stab）note黑白贴图、多押提示、背景、判定线等

​	整理Sorting Layer，详见最后

​	note属性添加黑/白切换。详见最后

​	note属性记录所吸附网格线的beat和offset

​	note前后左右移动手感优化，详见最后

​	进度条左右调整手感优化，详见最后

##### 修复:

​	note重叠时区分不了（给美术跪orz），现在冇问题

​	note浮点位数太多，多押显示又双叒叕不正确的bug

​	刚生成的note最下方并不是判定线的位置（可以随时改判定线的位置就是了）的bug

​	exe制谱器产生的文件无法被unity编辑器读入的bug

​	正在移动note时快速点击其他note卡死的bug

#### v0.0.29（PC端制谱器）2024.2.16

##### 更新：

​	切换歌曲UI

##### remaining bugs：

​	音乐声音太大，并且只有右声道

##### 咕咕：

​	更改note大小、单独的流速，实现类似变速谱的效果

​	滑键Slash

​	将制谱器的谱面文件导出并试玩

​	多个note复制粘贴



### Sorting Layer

| Default    | Particle                 | UI                         |
| ---------- | ------------------------ | -------------------------- |
| 0 背景图片 | 0 note本体               | 0 各进度条，连击数，按钮等 |
| -          | 2 多押提示               | -                          |
| -          | 3 选中note的那个提示箭头 | -                          |
| -          | 5 点击特效               | -                          |

### 制谱器总览

##### **<u>进度条附近</u>**

| | or > ：暂停or播放

beat：每多少拍显示一条线，例如，填入1/4后，对于BPM是150的歌，每秒钟有150/60=2.5拍，会有2.5 / (1/4)  = 10根红线流过

line offset：网格线偏移（单位ms 值越大 网格线离判定线越远）

pitch：音乐倍速

note speed：音符下落速度，其密度（=个数/时间）不变

***PS 输入框的数字改了按回车才有效，ΔX、ΔZ除外**

##### <u>MelodyInfo面板</u>

Id：歌曲唯一认证序号

BPM：每分钟节拍数

Title：歌曲标题

Composer：作曲

Intensity：难度

Write：写入文件

Read：读取文件

Wake Up：退出当前这首歌的编辑返回选歌，确认退出还没加

##### <u>Configuration面板</u>

Type：音符种类，Stab单点，Slash滑动，其余待定

右边的框：黑/白切换，不选中任何note时无法切换，仅选中1个时显示这个note的颜色，选中多个时显示“？”，这时仍能点击并批量修改

X：音符左右位置，限制为[-7,7]（左-右）

Z：音符的准确判定时间，范围[0,音乐秒数]（近-远）

| 键                |                                                             |
| ----------------- | ----------------------------------------------------------- |
| Space(空格)       | 暂停/播放                                                   |
| 鼠标左键          | 选中1个note，先前选中的会取消。疯狂点同一个也不会取消这一个 |
| 左Ctrl + 鼠标左键 | 多选note，类似于windows的多选文件。第二次点击取消选中       |
| X                 | 不知道哪个单词，C被复制占了:(   取消所有选中note            |
| D                 | Delate，删除所有选中note                                    |
| R                 | Read，读取谱面文件                                          |
| W                 | Write，写入谱面文件                                         |
| ↑/↓               | 已选中note向远/近处移动ΔZ，若未输入ΔZ则吸附网格线           |
| ←/→               | 已选中note向左/右移动ΔX                                     |
| ,(书名号<)        | 进度条向左移动 若干 秒                                      |
| .(书名号>)        | 进度条向右移动 若干 秒                                      |
| 右Alt + ,         | 进度条向左移动 (若干*倍数) 秒                               |
| 右Alt + .         | 进度条向右移动 (若干*倍数) 秒                               |

